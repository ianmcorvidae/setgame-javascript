<html>
	<head>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.5.2/jquery.min.js" type="text/javascript"></script>
		<script type="text/javascript">
			function randomProperty() {
				var rand=Math.floor(Math.random()*3).toString(2);
				if (rand.length === 1) { rand = "0" + rand; }
				return rand;
			}
			function makeCard(deck) {
				card = null;
				while (card == null || $.inArray(card, deck) != -1) {
					card = randomProperty() + randomProperty() + randomProperty() + randomProperty();
				}
				return card;
			}
			function makeDeck() {
				deck = new Array();
				while (deck.length < 81) {
					deck.push(makeCard(deck));
				}
				return deck;
			}
			colors = {'00': 'P', '01': 'G', '10': 'R'}
			reverse_colors = {'P': '00', 'G': '01', 'R': '10'}
			numbers = {'00': '1', '01': '2', '10': '3'}
			reverse_numbers = {'1': '00', '2': '01', '3': '10'}
			patterns = {'00': 'L', '01': 'S', '10': 'O'}
			reverse_patterns = {'L': '00', 'S': '01', 'O': '10'}
			shapes = {'00': 'C', '01': 'T', '10': 'D'}
			reverse_shapes = {'C': '00', 'T': '01', 'D': '10'}

			function makeReferenceDictionary() {
				refd = new Object();
				refd[''] = new Array();
				keys = ['00', '01', '10'];
				for (i_a in keys) {
					color = colors[keys[i_a]];
					refd[color] = new Array();
					for (i_b in keys) {
						num = numbers[keys[i_b]];
						refd[color + num] = new Array();
						for (i_c in keys) {
							pat = patterns[keys[i_c]];
							refd[color+num+pat] = new Array();
				}}}
				return refd;
			}

			function onNode(node, refd) {
				if (refd[node.substring(0,3)].push(node.substring(3,4)) == 3) {
					if (refd[node.substring(0,2)].push(node.substring(2,3)) == 3) {
						if (refd[node.substring(0,1)].push(node.substring(1,2)) == 3) {
							refd[''].push(node.substring(0,1));
			}}}}

			function btor(card) {
				rc = colors[card.substring(0,2)] + numbers[card.substring(2,4)] + patterns[card.substring(4,6)] + shapes[card.substring(6,8)];
				return rc;
			}
			function bdtord(deck) {
				rd = new Array();
				for (var card in deck) {
					rd.push(btor(deck[card]));
				}
				return rd;
			}
			function bdtocds(deck) {
			}
			function cdstord(cds) {
			}
		</script>
	</head>
	<body>
		<a href="#" onclick="alertDeck()">Click</a>
	</body>
</html>
